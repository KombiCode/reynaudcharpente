<header class="flex flex-wrap items-center px-6 py-2 bg-white border-b border-gray-200 font-jost lg:px-8 lg:py-0">
  <div class="flex items-center justify-between flex-1">
    <!-- logo -->
    <a href="/" class="flex items-center my-2 mr-8">
      <%= image_tag "rc-logo-color.svg", alt: "Reynaud Charpente, spÃ©cialiste maison ossature bois", width: "80", height: "80", class: "content-center" %>
      <div class="grid grid-cols-1 grid-rows-2 px-2 font-light">
        <span class="text-lg md:text-xl"><%=t('company_name') %></span>
        <span class="text-sm md:text-base"><%=t('slogan') %></span>
      </div>
    </a>
    <% if Rails.env == 'staging'%>
      <p class="mt-2 text-sm font-thin leading-snug">(<%= Rails.env %>)</p>
    <% end %>
  </div>
  <label for="menu-toggle" class="block pointer-cursor lg:hidden">
    <svg class="text-gray-900 fill-current" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
      <title>menu</title>
      <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
    </svg>
  </label>
  <input class="hidden" type="checkbox" id="menu-toggle" />
  <div class="hidden w-full lg:flex lg:items-center lg:w-auto" id="menu">
    <nav>
      <ul class="items-center justify-between pt-4 text-base font-light text-gray-500 lg:flex lg:pt-0">
        <li>
          <a class="block px-0 py-3 mr-8 text-xl transition ease-in-out border-b-2 border-transparent brandHover lg:p-4 duration-250" href="/news">
            <%= t('news') %>
          </a>
        </li>
        <li>
          <a class="block px-0 py-3 mr-8 text-xl transition ease-in-out border-b-2 border-transparent brandHover lg:p-4 duration-250" href="/achievements">
            <%= t('achievements') %>
          </a>
        </li>
        <li>
          <a class="block px-0 py-3 mr-8 text-xl transition ease-in-out border-b-2 border-transparent brandHover lg:p-4 duration-250" href="/opinions/index">
            <%= t('opinions') %>
          </a>
        </li>
        <li>
          <div class="relative" data-controller="dropdown">
            <div data-action="click->dropdown#toggle click@window->dropdown#hide"
                  data-dropdown-target="button" tabindex="0"
                  class="flex items-center text-xl appearance-none select-none brandHover">
                <%= t('company') %>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="w-4 h-4"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>
            </div>
            <div data-dropdown-target="menu" class="absolute z-50 hidden mt-2 md:right-0">
              <div class="overflow-hidden bg-white border rounded shadow">
                <%= link_to t('history'),  "/history",
                      data: {action: "click->dropdown#toggle"},
                      class: 'brandHover block px-8 py-2 mb-1 text-xl text-gray-500
                              transition ease-in-out border-b-2 
                              lg:p-4 duration-250' %>
                <%= link_to t('team'),  employees_path,
                      data: {action: "click->dropdown#toggle"},
                      class: 'brandHover block px-8 py-2 mb-1 text-xl text-gray-500
                              transition ease-in-out  
                              lg:p-4 duration-250' %>
                <%= link_to t('skills'), skills_path,
                      data: {action: "click->dropdown#toggle"},
                      class: 'brandHover block px-8 py-2 mb-1 text-xl text-gray-500
                              transition ease-in-out  
                              lg:p-4 duration-250' %>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </nav>
    <div data-controller="extended-modal" class="pr-4 lg:pl-8">
      <span class="inline-flex rounded-md shadow-md">
        <span class="inline-flex rounded-md shadow-xs">
          <%= link_to "Contact", new_contact_path,
              data: { action: "click->extended-modal#open", remote: true },
              class: "brandHover text-xl text-white inline-flex items-center px-0 md:px-4 py-2 leading-6 transition duration-150 ease-in-out bg-brandActive border border-transparent rounded-md hover:bg-white focus:outline-none" %>
          <%= render 'contacts/modal' %>
        </span>
      </span>
    </div>
  </div>
</header>
